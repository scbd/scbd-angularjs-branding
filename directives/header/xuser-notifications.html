<div class="row">
<div class="col-lg-12 col-centered">
  <div class="panel panel-default notifications-panel">
    <div class="panel-heading"><h5 style="margin: 0 0 0 0;"><img src="/app/libs/scbd-branding/images/cbd-leaf-green.svg" style="height:18px;display: inline; float: left;" />CBD User Notifications </h5>
      <md-button class="md-icon-button " style="float:right;position:absolute;top:1px;right:25px;" aria-label="Settings" ng-click="showInView()" ng-if="!hideCloseButton">
        <md-icon md-font-set="material-icons">close</md-icon>
      </md-button>
    </div>
    <div class="panel-body">
    <table  class="notifications">
        <tr >
            <th>Message</th>
            <th>Read</th>
        </tr>
        <tr ng-repeat="notification in notifications" class="notification-item" ng-class="{'notification-read':notification.state=='read','notification-unread':notification.state=='unread' }">

            <!--<td>
                <div style="margin-top:3px;padding-right:3px;">
                    <i class="material-icons" style="font-size:16pt;position:relative;top:3px;"
                    ng-class="{'color-green':(notification.data.action!='approved'||notification.data.action=='completed'||notification.data.action=='recalled'), 'color-grey':notification.data.action=='rejected'}">
                    {{notification.data.documentInfo.metadata.schema | schemaIcon}}</i>
                </div>
            </td>-->
            <td ng-class="{'notification-read':notification.state=='read','notification-unread':notification.state=='unread' }" style="padding:10px 0;cursor:pointer;">

                <a ng-href="{{getURL(notification)}}" ng-click="markAsRead(notification);" class="skipNotificationPanel">

                    <i ng-class="{'color-blue':notification.state=='unread'}">
                        <i class="fa fa-envelope" style="font-size:15px" ng-show="notification.type=='message'"></i>
                        <i class="fa fa-bell" style="font-size:15px" ng-show="notification.type=='documentNotification'"></i>
                        {{notification.createdBy_info.firstName + ' ' + notification.createdBy_info.lastName}}</i>
                    <span ng-show="notification.type=='message'"> has sent you a message</span>
                    <span ng-show="notification.data.action=='request'"> has sent you a request for publishing for</span>
                    <span ng-show="notification.data.action=='approved'"> has approved your publishing request for</span>
                    <span ng-show="notification.data.action=='rejected'"> has rejected your publishing request for</span>
                    <span ng-show="notification.data.action=='recalled'"> has recalled publishing request for</span>

                    <strong><i ng-class="{'color-blue':notification.state=='unread'}">
                        {{(notification.data.documentInfo.title||notification.data.subject)|lstring}}
                    </i></strong>
                    <span ng-show="notification.type=='documentNotification'"> ({{notification.data.documentInfo.metadata.schema|schemaName}})</span>
                </a>
                <br>{{timePassed(notification.createdOn)}} ago

                <span class="label label-default" ng-show="notification.data.documentInfo.realm == 'ABS'">from ABSCH</span>
                <span class="label label-default" ng-show="notification.data.documentInfo.realm == 'ABS-TRG'">from ABSCH TRAINING</span>
                <span class="label label-default" ng-show="notification.data.documentInfo.realm == 'ABS-DEV'">from ABSCH DEVELOPMENT</span>
                <span class="label label-default" ng-show="notification.data.documentInfo.realm == 'CHM'">from CHM</span>
                <span class="label label-default" ng-show="notification.data.documentInfo.realm == 'BCH'">from BCH</span>


            </td>
            <td style="width:20px;vertical-align:middle;">
                <a href="#" ng-show="notification.state=='unread'" class="pull-right" ng-click="updateStatus(notification);"><i class="fa fa-square-o fa-lg"></i></a>
                <a href="#" ng-show="notification.state=='read'" class="pull-right" ng-click="updateStatus(notification);"><i class="fa fa-check-square-o fa-lg"></i></a>
            </td>
        </tr>
    </table>

    <div ng-show="!notifications">
        <span class="color-grey">no recent activity</span>
    </div>
</div>
</div>
</div>
</div>
